---
# tasks file for ndelius

- name: (main) Debug vars
  debug:
    msg: {{ vars | to_nice_json }}
    verbosity: 0

- name: (main) Set WebLogic startup params
  include: wl_params.yml

- name: (main) Setup security realm
  include: security_realm.yml

- name: (main) Setup datasources
  when: setup_datasources
  include: datasources.yml

- name: (main) Apply NDelius configuration
  include: nd_config.yml

- name: (main) Deploy NDelius
  include: deploy_ndelius.yml

- name: (main) Start weblogic
  become: yes
  systemd:
    name: weblogic.service
    state: restarted
    enabled: yes
